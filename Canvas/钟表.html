<!DOCTYPE html>
<html lang="en">

<head>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        canvas {
            display: block;
            border: 1px solid red;
            margin: 0 auto;
            background: url(./imgs/clock.png) no-repeat center center;
        }
    </style>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <canvas id="myCanvas" width="600" height="600"></canvas>
    <script>

        let canvas = document.getElementById('myCanvas');
        let ctx = canvas.getContext('2d');

        // console.log(canvas.width, canvas.height);
        ctx.translate(canvas.width / 2, canvas.height / 2);

        //
        ctx.lineWidth = 4;
        line(0, 12, 0, -140);

        ctx.lineWidth = 6;
        line(0, 8, 0, -120);

        ctx.lineWidth = 8;
        line(0, 5, 0, -100);

        let data = new Date();

        let deg = Math.PI / 30;
        let i = data.getHours() * 3600 + data.getMinutes() * 60 + data.getSeconds();

        window.onload = demo();

        function demo() {
            var timer = setInterval(() => {

                i++;
                ctx.clearRect(-canvas.width, -canvas.height, 1000, 1000);

                ctx.save();
                ctx.rotate(deg * i);
                ctx.lineWidth = 4;
                line(0, 12, 0, -140)
                ctx.restore();

                ctx.save();
                ctx.rotate(deg * i / 60);
                ctx.lineWidth = 6;
                line(0, 8, 0, -120)
                ctx.restore();

                ctx.save();
                ctx.rotate(deg * i / 60 / 12);
                ctx.lineWidth = 8;
                line(0, 5, 0, -100)
                ctx.restore();


            }, 1000);
        }













        // 绘制线段方法
        function line(x, y, endX, endY) {
            // 开启路径
            ctx.beginPath();
            // 移动画笔到某个位置
            ctx.moveTo(x, y);
            // 绘制图形
            ctx.lineTo(endX, endY);
            // 关闭路径
            ctx.closePath();
            // 描边
            ctx.stroke();
        }
    </script>
</body>

</html>